<reports_file>
<!-- sample reports entry
    <report>
        <name>name of report</name>
        <iteration value='0' /> which version, the first version to run is 0, first backup is 1, then so on
        <tag>money</tag>  arbitrary tags, each should go in separate tag
        <report_title>Migrated Billings</report_title>  title used in the asciidoc output
        <heading column='1'>Number of Billings.Migrated.Total</heading> period delimited 
        <query>SELECT COUNT(id),x_migrate,SUM(amount) FROM MIGSCHEMA.money_billing_legacy GROUP BY 2;</query>  query itself, MIGSCHEMA will be replaced
        <note>Arbitrary note that can be included in the entries.</note>
    </report>
-->
    <!-- branches -->
    <!-- circs -->

    <report>
        <name>rm_load_circ_count</name>
        <tag>circs</tag>
        <iteration>0</iteration>
        <report_title>Circulations in Extract</report_title>
        <heading>Count of Circs.Status</heading>
        <query>SELECT COUNT(id), l_is_checked_out FROM MIGSCHEMA.asset_copy_legacy GROUP BY 2</query>
    </report>


    <!-- holds -->
    <!-- assets -->

   <report>
        <name>rm_load_asset_by_resource_type</name>
        <report_title>Count of Copies in Extract by Resource Type</report_title>
        <tag>assets</tag>
        <iteration>0</iteration>
        <heading>Count.Resource Type</heading>
        <query>SELECT COUNT(*), l_resource_type FROM MIGSCHEMA.asset_copy_legacy GROUP BY 2 ORDER BY 2</query>
    </report>
     
   <report>
        <name>rm_load_asset_by_location</name>
        <report_title>Count of Copies in Extract by Location</report_title>
        <tag>assets</tag>
        <iteration>0</iteration>
        <heading>Count.Location</heading>
        <query>SELECT COUNT(*), l_location FROM MIGSCHEMA.asset_copy_legacy GROUP BY 2 ORDER BY 2</query>
    </report>
    
    <report>
        <name>rm_load_asset_by_category</name>
        <report_title>Count of Copies in Extract by Category</report_title>
        <tag>assets</tag>
        <iteration>0</iteration>
        <heading>Count.Location</heading>
        <query>SELECT COUNT(*), l_location FROM MIGSCHEMA.asset_copy_legacy GROUP BY 2 ORDER BY 2</query>
    </report>
    
    <report>
        <name>rm_load_asset_by_status</name>
        <report_title>Count of Copies in Extract by Status</report_title>
        <tag>assets</tag>
        <iteration>0</iteration>
        <heading>Count.Location</heading>
        <query>SELECT COUNT(*), l_status FROM MIGSCHEMA.asset_copy_legacy GROUP BY 2 ORDER BY 2</query>
    </report>

    
    <!-- money -->


   <report>
        <name>rm_accounts_with_fines</name>
        <report_title>Count of Accounts with a Grocery Bill to Migrate</report_title>
        <tag>money</tag>
        <iteration>0</iteration>
        <heading>Count</heading>
        <query>SELECT COUNT(*) FROM MIGSCHEMA.fines</query>
    </report>

   <report>
        <name>rm_fine_w_no_account</name>
        <report_title>Fines with No Matching Account</report_title>
        <tag>money</tag>
        <iteration>0</iteration>
        <heading>First Name.Last Name.Fine Amount</heading>
        <query>SELECT first_given_name, family_name, amount FROM MIGSCHEMA.fines WHERE au_id IS NULL ORDER BY 2, 1</query>
    </report>
             
      <report>
        <name>rm_fine_w_multi_matching</name>
        <report_title>Fines with Multiple Matching Accounts</report_title>
        <tag>money</tag>
        <iteration>0</iteration>
        <heading>First Name.Last Name.Fine Amount</heading>
        <query>SELECT first_given_name, family_name, amount FROM MIGSCHEMA.fines WHERE multi_au IS TRUE ORDER BY 2, 1</query>
    </report>
     


    <!-- bibs -->

    <report>
        <name>rm_load_bibs_loaded</name>
        <report_title>Bibs Successfully Staged</report_title>
        <tag>bibs</tag>
        <iteration>0</iteration>
        <heading>Count</heading>
        <query>SELECT COUNT(eg) FROM MIGSCHEMA.bib_id_map</query>
    </report>

    <!-- actors -->

    <report>
        <name>rm_actor_address_summary</name>
        <report_title>Patrons Address Components</report_title>
        <tag>actors</tag>
        <iteration>0</iteration>
        <heading>Count.Address Component</heading>
        <query>SELECT COUNT(id), 'Address 1' FROM MIGSCHEMA.actor_usr_legacy WHERE LENGTH(l_address_1) > 1
            UNION ALL SELECT COUNT(id), 'Address 2' FROM MIGSCHEMA.actor_usr_legacy WHERE LENGTH(l_address_2) > 1
            UNION ALL SELECT COUNT(id), 'City' FROM MIGSCHEMA.actor_usr_legacy WHERE LENGTH(l_city) > 1
            UNION ALL SELECT COUNT(id), 'State' FROM MIGSCHEMA.actor_usr_legacy WHERE LENGTH(l_state) > 1
            UNION ALL SELECT COUNT(id), 'County' FROM MIGSCHEMA.actor_usr_legacy WHERE LENGTH(l_country) > 1
            UNION ALL SELECT COUNT(id), 'Zip Code' FROM MIGSCHEMA.actor_usr_legacy WHERE LENGTH(l_zip_code) > 1                    
        </query>
    </report>
    
    <report>
        <name>rm_actor_expirations</name>
        <report_title>Patrons by Year of Expiration</report_title>
        <tag>actors</tag>
        <iteration>0</iteration>
        <heading>Count.Expiration Year</heading>
        <query>SELECT COUNT(id), RIGHT(BTRIM(l_membership_expiry),4) FROM MIGSCHEMA.actor_usr_legacy GROUP BY 2 ORDER BY 2;       
        </query>
    </report>
    
    <report>
        <name>rm_actor_barcodes</name>
        <report_title>Patrons by Barcode Length</report_title>
        <tag>actors</tag>
        <iteration>0</iteration>
        <heading>Count.Barcode Length</heading>
        <query>SELECT COUNT(id), LENGTH(l_barcode) FROM MIGSCHEMA.actor_usr_legacy GROUP BY 2 ORDER BY 2;       
        </query>
    </report>
  
    <report>
        <name>rm_actor_birthdates</name>
        <report_title>Patrons with Birthdates</report_title>
        <tag>actors</tag>
        <iteration>0</iteration>
        <heading>Count</heading>
        <query>SELECT COUNT(id) FROM MIGSCHEMA.actor_usr_legacy WHERE LENGTH(l_birthdate) > 1;       
        </query>
    </report>

    <report>
        <name>rm_actor_groups</name>
        <report_title>Patrons by User Groups</report_title>
        <tag>actors</tag>
        <iteration>0</iteration>
        <heading>Count.Group</heading>
        <query>SELECT COUNT(id), l_user_group FROM MIGSCHEMA.actor_usr_legacy GROUP BY 2 ORDER BY 2;       
        </query>
    </report>

    <report>
        <name>rm_actor_access</name>
        <report_title>Patrons by Access Field</report_title>
        <tag>actors</tag>
        <iteration>0</iteration>
        <heading>Count.Access</heading>
        <query>SELECT COUNT(id), l_access_if_applicable FROM MIGSCHEMA.actor_usr_legacy GROUP BY 2 ORDER BY 2;       
        </query>
    </report>

    <report>
        <name>rm_actor_contact_summary</name>
        <report_title>Patrons Contact Fields</report_title>
        <tag>actors</tag>
        <iteration>0</iteration>
        <heading>Count.Address Component</heading>
        <query>SELECT COUNT(id), 'email' FROM MIGSCHEMA.actor_usr_legacy WHERE LENGTH(l_e_mail) > 1
            UNION ALL SELECT COUNT(id), 'Phone (home)' FROM MIGSCHEMA.actor_usr_legacy WHERE LENGTH(l_phone_home) > 1
            UNION ALL SELECT COUNT(id), 'Phone (work)' FROM MIGSCHEMA.actor_usr_legacy WHERE LENGTH(l_phone_work) > 1
            UNION ALL SELECT COUNT(id), 'Phone (cell)' FROM MIGSCHEMA.actor_usr_legacy WHERE LENGTH(l_phone_cell) > 1
        </query>
    </report> 
  
    <report>
        <name>rm_actor_comments</name>
        <report_title>Patrons Comments Count and Sample</report_title>
        <tag>actors</tag>
        <iteration>0</iteration>
        <heading>Count.Sample</heading>
        <query>SELECT COUNT(id), 'All Comments' FROM MIGSCHEMA.actor_usr_legacy WHERE LENGTH(l_comments) > 1
            UNION ALL SELECT NULL, l_comments FROM  MIGSCHEMA.actor_usr_legacy WHERE LENGTH(l_comments) > 1 LIMIT 10
        </query>
    </report> 
    
    <report>
        <name>rm_actor_circulation_note</name>
        <report_title>Patrons Circulation Notes Count and Sample</report_title>
        <tag>actors</tag>
        <iteration>0</iteration>
        <heading>Count.Sample</heading>
        <query>SELECT COUNT(id), 'All Notes' FROM MIGSCHEMA.actor_usr_legacy WHERE LENGTH(l_circulation_note) > 1
            UNION ALL SELECT NULL, l_circulation_note FROM  MIGSCHEMA.actor_usr_legacy WHERE LENGTH(l_circulation_note) > 1 LIMIT 10
        </query>
    </report>       
</reports_file>

